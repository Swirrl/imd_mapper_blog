<!doctype html>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <title>IMD Map Explorer</title>
  <link rel="stylesheet" type="text/css" href="stylesheets/map.css" />
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false&region=GB"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
  <script src="javascripts/raphael.js"></script>
</head>
<body>
  <div id="container">
    <div id="info"></div>
    <div id="map_canvas"></div>
    <select id="domain">
      <option value="IMD-score">Combined Score</option>
      <option value="IMD-housing-score">Housing</option>
      <option value="IMD-crime-score">Crime</option>
      <option value="IMD-education-score">Education</option>
      <option value="IMD-employment-score">Employment</option>
      <option value="IMD-health-score">Health</option>
      <option value="IMD-income-score">Income</option>
      <option value="IMD-environment-score">Environment</option>
    </select>
    <div id="colour_key_container">
      <div id="colour_key"></div>
    </div>
    <div style="display:none" id="templates"></div>
  </div>

  <script type="text/javascript">
    (function(){
      var map = new google.maps.Map(document.getElementById("map_canvas"), {
        zoom: 14,
        center: new google.maps.LatLng(53.48, -2.245), // Manchester
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        streetViewControl: false
      });
    })();

    // this is the SPARQL we want to run.

    // PREFIX geo: <http://www.w3.org/2003/01/geo/wgs84_pos#>
    // PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>

    // SELECT ?lsoa ?notation ?label ?lat ?long ?score
    // WHERE {
    //   GRAPH <http://opendatacommunities.org/id/graph/geography/lsoa> {
    //     ?lsoa a <http://opendatacommunities.org/def/geography#LSOA> .
    //     ?lsoa geo:lat ?lat .
    //     ?lsoa geo:long ?long .
    //     ?lsoa <http://www.w3.org/2004/02/skos/core#notation> ?notation .
    //     ?lsoa rdfs:label ?label .
    //   }
    //   GRAPH <http://opendatacommunities.org/id/graph/IMD/2010/IMD-score> {
    //     ?obs <http://purl.org/linked-data/sdmx/2009/dimension#refArea> ?lsoa .
    //     ?obs <http://opendatacommunities.org/def/IMD#IMD-score> ?score .
    //   }
    //   FILTER ( ?lat >= 53.4 && ?lat < 53.5 &&
    //     ?long >= -2.3 && ?long < -2.2 ) .
    // }

  </script>

</body>
</html>